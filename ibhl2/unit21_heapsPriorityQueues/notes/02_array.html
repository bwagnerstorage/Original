<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <img src="images/empty.gif" onload="doScrollTop(); this.parentNode.removeChild(this);" />

  <div id="csHeader">Array-Based Implementation of a Heap</div>
  <div id="csContent">
      <p>A heap is a special binary tree in that it is implemented with an array 
        instead of the linked approach most often associated with trees. Because 
        heaps by definition are complete binary trees, there is an elegant and 
        efficient array-based representation. Refer to the illustration below.</p>
      <p><img src="http://bwagner.org/menu/uil/Lessons/HeapsPriorityQueues/img/array-based.gif" width="600" height="330"></p>
      <p>In an array-based implementation, the elements are stored by level, as 
        shown in the array below.</p>
      <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>Array 
        Representation</strong></p>
      <table id="apTable">
        <tr> 
          <td><strong>0</strong></td>
          <td><strong>1</strong></td>
          <td><strong>2</strong></td>
          <td><strong>3</strong></td>
          <td><strong>4</strong></td>
          <td><strong>5</strong></td>
          <td><strong>6</strong></td>
        </tr>
        <tr> 
          <td> 
            <div><strong>a</strong></div></td>
          <td> 
            <div><strong>b</strong></div></td>
          <td> 
            <div><strong>c</strong></div></td>
          <td> 
            <div><strong>d</strong></div></td>
          <td> 
            <div><strong>e</strong></div></td>
          <td> 
            <div><strong>f</strong></div></td>
          <td> 
            <div><strong>g</strong></div></td>
        </tr>
      </table>
      <p>Given an arbitrary item at position <em>i</em> in the array, it is easy 
        to determine the location of related items, as shown below.</p>
      <table id="apTable">
        <tr> 
          <td><strong>ITEM 
              </strong></div></td>
          <td><strong>LOCATION</strong></div></td>
        </tr>
        <tr> 
          <td>Parent</td>
          <td> 
            <div>(i - 1) / 2</div></td>
        </tr>
        <tr> 
          <td>Left sibling, if there is one</td>
          <td> 
            <div>i - 1</div></td>
        </tr>
        <tr> 
          <td>Right sibling, if there is one</td>
          <td> 
            <div>i + 1</div></td>
        </tr>
        <tr> 
          <td>Left child, if there is one</td>
          <td> 
            <div>i * 2 + 1</div></td>
        </tr>
        <tr> 
          <td>Right child, if there is one</td>
          <td> 
            <div>i * 2 + 2</div></td>
        </tr>
      </table>
      <p>As an example, for item <strong>b</strong> at location 1 we get the following 
        results.</p>
      <table id="apTable">
        <tr> 
          <td><strong>ITEM</strong></td>
          <td><strong>LOCATION</strong></td>
        </tr>
        <tr> 
          <td>Parent</td>
          <td>a at 0 :(1-1)/2 = 0/2 = 
            0</font></td>
        </tr>
        <tr> 
          <td>Left sibling, if there is one</td>
          <td>not applicable</td>
        </tr>
        <tr> 
          <td>Right sibling, if there is one</td>
          <td>c at 2 <strong>:</strong> 1+1 = 2</td>
        </tr>
        <tr> 
          <td>Left child, if there is one</td>
          <td>d at 3<strong> :</strong> 1 * 2 + 1 = 3</td>
        </tr>
        <tr> 
          <td>Right child, if there is one</td>
          <td>e at 4 <strong>:</strong> 1 * 2 + 2 = 4</td>
        </tr>
      </table>
      <p>One might naturally ask why the array representation does not work for 
        <strong>incomplete</strong> binary trees. The reason is not hard to see. 
        In an incomplete binary tree, some levels are not filled above others. 
        But the calculation of a node's relatives(parent, siblings, children) 
        in an array is based on being able to multiply or divide its index by 
        2, which cannot be done when levels are not filled in a top-down manner.</p>
      <p>For this reason, the array representation of binary tree is pretty rare and is used 
        mainly to implement a <strong>heap</strong>.</p>
      <p>&nbsp;</p>
      <p>&nbsp;</p>
      </td>
  </tr>
</table>